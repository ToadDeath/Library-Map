<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Colorado Counties Claim Map</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
  <style>
    #map { height: 100vh; width: 100%; }
    .claimed { fill: orange !important; }
  </style>
</head>
<body>
  <div id="map"></div>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    // Example GeoJSON with two "counties"
    var counties = {
      "type": "FeatureCollection",
      "features": [
        {
          "type": "Feature",
          "properties": { "name": "Sample County A" },
          "geometry": {
            "type": "Polygon",
            "coordinates": [[
              [-105.05509918557051,40.26179948577506],[-105.0551451944809,40.33518949570258],[-105.05673019656321,40.3492874974951],[-104.94556117075905,40.34910550538562],[-104.94437417882838,40.41759351473783],[-104.9439592054931,40.63496654405959],[-104.94310123658552,40.884901577570986],[-104.94338125102422,40.99821959263463],[-105.34142534348034,40.99797856343109],[-105.72645143217329,40.99684253492668],[-106.00057249510033,40.99725751471091],[-106.19056453853588,40.99758450066413],[-106.19538253864633,40.98994449931996],[-106.18423653162152,40.955213495659116],[-106.1893035315759,40.94589949407947],[-106.18531752913216,40.93397949283289],[-106.14789151682817,40.90464449180322],[-106.13663251390375,40.90186549227512],[-106.12762850967323,40.88489649073947],[-106.12690350754312,40.86956248880319],[-106.10841450251962,40.86326448934937],[-106.10750450088209,40.85208548796421],[-106.08792449402891,40.833409486979086],[-106.05378948359316,40.812668486791914],[-106.0396624769439,40.78576648432438],[-106.02969547413466,40.78156848450883],[-106.02389047023952,40.76133448229455],[-106.00601846315271,40.737625480508164],[-105.99059045830757,40.727186480273616],[-105.98874945566466,40.70961147810939],[-105.97220645001757,40.6948174773829],[-105.97188344830947,40.681862475709536],[-105.95864944291174,40.663016474205996],[-105.94833543788043,40.64175147216894],[-105.94927143628209,40.62732647020719],[-105.94207443234892,40.60908346833536],[-105.93021742927823,40.60619646881946],[-105.92125842302127,40.572565465048264],[-105.91090241988785,40.566426464992844],[-105.9118434183878,40.55269446311641],[-105.9051004146762,40.53529146131314],[-105.90786741284279,40.51549945850334],[-105.88196440784031,40.522859461352134],[-105.87181540538303,40.521754461942244],[-105.852313399034,40.506559461349674],[-105.85493639711171,40.48625845847795],[-105.81106338577814,40.475779460266075],[-105.8044593826801,40.46297145904817],[-105.80570038109683,40.44788845696142],[-105.8163763820096,40.43552545455316],[-105.81535038004098,40.42149245276813],[-105.79096137164404,40.39864645149709],[-105.79073937006844,40.38626944987064],[-105.76770936154048,40.35977044800848],[-105.74776735547229,40.34751444781244],[-105.73635535275083,40.34662144851361],[-105.72909834969913,40.33528444752592],[-105.71313734485517,40.32557444737866],[-105.70169034207984,40.32431544803217],[-105.70224534077484,40.31261644643342],[-105.68930533669464,40.30348544614363],[-105.68058933237495,40.28446644423067],[-105.68243833137548,40.27280644254189],[-105.65333132320374,40.26046344297535],[-105.5595953018408,40.26153744981782],[-105.39100626264917,40.257890461356304],[-105.37523625943226,40.26129746293827],[-105.28945523984707,40.262791469249464],[-105.2131292220399,40.26119147446464],[-105.05509918557051,40.26179948577506]
            ]]
          }
        },
        {
          "type": "Feature",
          "properties": { "name": "Sample County B" },
          "geometry": {
            "type": "Polygon",
            "coordinates": [[
              [-104.8, 39.9],
              [-105.0, 39.9],
              [-105.0, 40.1],
              [-104.8, 40.1],
              [-104.8, 39.9]
            ]]
          }
        }
      ]
    };

    var map = L.map('map').setView([39.5, -105.5], 7);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
    }).addTo(map);

    function style(feature) {
      return {
        fillColor: "lightblue",
        weight: 2,
        opacity: 1,
        color: "darkblue",  // solid darker blue border
        fillOpacity: 0.6
      };
    }

    function onEachFeature(feature, layer) {
      // add popup with a working claim button
      layer.bindPopup(`
        <b>${feature.properties.name}</b><br>
        <button onclick="claimCounty('${feature.properties.name}')">Claim County</button>
      `);

      // store layer reference for later
      layer._countyName = feature.properties.name;
    }

    // dictionary to track layers by name
    var countyLayers = {};

    var geojson = L.geoJSON(counties, {
      style: style,
      onEachFeature: function(feature, layer) {
        onEachFeature(feature, layer);
        countyLayers[feature.properties.name] = layer;
      }
    }).addTo(map);

    // Claim function
    function claimCounty(name) {
      var layer = countyLayers[name];
      if (!layer) return;

      var currentColor = layer.options.fillColor;
      if (currentColor === "orange") {
        layer.setStyle({ fillColor: "lightblue" });
      } else {
        layer.setStyle({ fillColor: "orange" });
      }
    }
  </script>
</body>
</html>
